<nav class="navbar">
    <div class="nav-container">
        <div class="nav-brand">
            <a href="/"> Epic Forum</a>
        </div>
        
        <div class="nav-menu">
            <div class="nav-center">
                <a href="/comments" class="nav-link">üí¨ Comments</a>
                <a href="/chat" class="nav-link">üöÄ Live Chat</a>
            </div>
            
            {{#if user.loggedIn}}
                <div class="nav-user">
                    <a href="/profile" class="nav-link">‚öôÔ∏è Profile</a>
                    <button id="pokeBtn" class="btn-poke">üëã Poke Anthony!</button>
                    <span class="user-greeting">Hello, {{user.displayName}}{{user.username}}!</span>
                    <form method="POST" action="/logout" class="nav-logout">
                        <button type="submit" class="btn-logout">Logout</button>
                    </form>
                </div>
            {{else}}
                <div class="nav-links">
                    <a href="/login" class="nav-link">Login</a>
                    <a href="/register" class="nav-link">Register</a>
                </div>
            {{/if}}
        </div>
    </div>
</nav>

<style>
    .navbar {
        background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        position: sticky;
        top: 0;
        z-index: 1000;
    }
    
    .nav-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        height: 70px;
    }
    
    .nav-brand a {
        color: white;
        text-decoration: none;
        font-size: 1.5em;
        font-weight: bold;
        transition: color 0.3s ease;
    }
    
    .nav-brand a:hover {
        color: #4CAF50;
    }
    
    .nav-menu {
        display: flex;
        align-items: center;
        gap: 20px;
        flex: 1;
        justify-content: space-between;
    }
    
    .nav-center {
        flex: 1;
        display: flex;
        justify-content: center;
    }
    
    .nav-links {
        display: flex;
        gap: 20px;
    }
    
    .nav-link {
        color: white;
        text-decoration: none;
        padding: 10px 20px;
        border-radius: 5px;
        transition: all 0.3s ease;
        font-weight: 500;
    }
    
    .nav-link:hover {
        background: rgba(255,255,255,0.1);
        color: #4CAF50;
    }
    
    .nav-user {
        display: flex;
        align-items: center;
        gap: 15px;
    }
    
    .user-greeting {
        color: white;
        font-weight: 500;
        padding: 10px 15px;
        background: rgba(255,255,255,0.1);
        border-radius: 25px;
    }
    
    .nav-logout {
        display: inline;
    }
    
    .btn-logout {
        background: #e74c3c;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-weight: 500;
        transition: all 0.3s ease;
    }
    
    .btn-logout:hover {
        background: #c0392b;
        transform: translateY(-1px);
    }
    
    .btn-poke {
        background: #f39c12;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-weight: 500;
        text-decoration: none;
        transition: all 0.3s ease;
    }
    
    .btn-poke:hover {
        background: #e67e22;
        transform: translateY(-1px);
    }
    
    .btn-poke:disabled {
        background: #95a5a6;
        cursor: not-allowed;
        transform: none;
    }
    
    @media (max-width: 768px) {
        .nav-container {
            padding: 0 15px;
        }
        
        .nav-brand a {
            font-size: 1.3em;
        }
        
        .nav-links {
            gap: 10px;
        }
        
        .nav-link {
            padding: 8px 15px;
            font-size: 0.9em;
        }
        
        .user-greeting {
            font-size: 0.9em;
            padding: 8px 12px;
        }
        
        .btn-logout, .btn-poke {
            padding: 8px 15px;
            font-size: 0.9em;
        }
    }
</style>

<script>
// Poke button functionality
document.addEventListener('DOMContentLoaded', function() {
  const pokeBtn = document.getElementById('pokeBtn');
  
  if (pokeBtn) {
    pokeBtn.addEventListener('click', async function() {
      // Disable button and show loading state
      const originalText = this.innerHTML;
      this.innerHTML = '‚è≥ Sending...';
      this.disabled = true;
      
      try {
        const response = await fetch('/send-poke', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          }
        });
        
        const data = await response.json();
        
        if (data.success) {
          // Show success message
          this.innerHTML = '‚úÖ Sent!';
          setTimeout(() => {
            this.innerHTML = originalText;
            this.disabled = false;
          }, 2000);
        } else {
          // Show error message
          this.innerHTML = '‚ùå Failed';
          setTimeout(() => {
            this.innerHTML = originalText;
            this.disabled = false;
          }, 2000);
          console.error('Poke failed:', data.message);
        }
      } catch (error) {
        // Show error message
        this.innerHTML = '‚ùå Error';
        setTimeout(() => {
          this.innerHTML = originalText;
          this.disabled = false;
        }, 2000);
        console.error('Poke error:', error);
      }
    });
  }
});
</script>